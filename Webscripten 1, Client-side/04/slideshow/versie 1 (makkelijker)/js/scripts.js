/** Page-specific scripts** - handles first, previous, next and last controls* - adds back / forward keyboard navigation* - handles a start / stop slideshow button with 1s per photo** This version uses an images array and image numbers to find previous and next image* The slideshow is a little basic: for example it doesn't stop when the user selects another image** @author Rogier van der Linde <rogier.vanderlinde@kahosl.be>*/(function() {	'use strict';	// holds current image shown	var currNr = 0;	var links, images;	/**	* Function to prevent closures; adds click event handler to links	*/	var addEvents = function(nr) {		// add click event to link		links[nr].addEventListener('click', function(e) {			showImage(nr);			e.preventDefault();		});	}	/**	* Function to show an image	*/	var showImage = function(nr) {		// find image		var img = images[nr];		if (!img) return;		// find big image		var photoBig = document.getElementById('photoBig');		// change		photoBig.src = img.getAttribute('data-src-l');		photoBig.alt = img.alt;		// remember current image number		currNr = nr;	};	/**	* Function to show the next image	*/	var showNextImage = function() {		showImage(currNr + 1);	};	/**	* Function to show the previous image	*/	var showPrevImage = function() {		showImage(currNr - 1);	};	// start scripts	window.addEventListener('load', function() {		// find images and links		links = document.querySelectorAll('#thumbsmenu li>a');		images = document.querySelectorAll('#thumbsmenu li>a img');		// add link events		for (var i = 0; i < links.length; i++) {			addEvents(i);		}		// controls		document.getElementById('lnkFirst').addEventListener('click', function(e) {			showImage(0);			e.preventDefault();		});		document.getElementById('lnkPrev').addEventListener('click', function(e) {			showPrevImage();			e.preventDefault();		});		document.getElementById('lnkNext').addEventListener('click', function(e) {			showNextImage();			e.preventDefault();		});		document.getElementById('lnkLast').addEventListener('click', function(e) {			showImage(images.length - 1);			e.preventDefault();		});		// keyboard		document.addEventListener('keydown', function(e) {			var code = (e.keyCode ? e.keyCode : e.which);			switch (event.keyCode) {				case 37: showPrevImage(); e.preventDefault(); break;				case 39: showNextImage(); e.preventDefault(); break;			}		});		// play		var timer;		document.getElementById('btnPlay').addEventListener('click', function(e) {			if (!this.playing) {				this.value = 'stop';				this.playing = true;				currNr = 0;				timer = setInterval(showNextImage, 1000);			} else {				this.value = 'start';				this.playing = false;				clearInterval(timer);			}		});	});})();